<div style="margin-top: 10px;" ng-if="deploymentContext.selectedEnvironment.status === 'UNDEPLOYED'">
  <div class="row row-margin">
    <div class="col-md-12">
      <!-- DEPLOY BUTTON -->
      <button id="btn-deploy"
              type="button"
              class="btn btn-success application-deploy-button"
              ng-disabled="!deploymentContext.deploymentTopologyDTO.validation.valid || isDeploying"
              ng-click="deploy()">
        <i class="fa" ng-class="{'fa-play': !isDeploying, 'fa-spinner fa-spin': isDeploying}"></i> {{'APPLICATIONS.DEPLOY' | translate}}
      </button>
    </div>
  </div>
  <div class="row row-margin" ng-if="deploymentContext.deploymentTopologyDTO.topology.substitutionMapping">
    <div class="col-md-12">
      <div class="topology-column-content-head">
          <i class="fa fa-globe"></i> Service management
      </div>
      <i class="fa" ng-class="(location) ? 'fa-check-square-o text-success' :'fa-square-o'" ng-click="item.checked = !item.checked"></i>
      Deploy this environment as a service (other applications will be able to use it during matching phase).
    </div>
  </div>
  <div class="row row-margin">
    <div class="col-md-12">
      <!--  Workflow tasks  -->
      <div ng-if="(wfTasks = deploymentContext.deploymentTopologyDTO.validation.taskList['WORKFLOW_INVALID']).length>0">
        <h4 class="clickable" ng-init="isWorkflowsCollapsed = false" ng-click="isWorkflowsCollapsed = !isWorkflowsCollapsed">
          <i class="fa" ng-class="{'fa-caret-down' : !isWorkflowsCollapsed, 'fa-caret-right': isWorkflowsCollapsed}"></i>
          <span>{{'APPLICATIONS.TOPOLOGY.TASK.WORKFLOWS.TITLE' | translate}}</span>
        </h4>

        <div uib-collapse="isWorkflowsCollapsed" >
          <ul>
            <li ng-repeat="wfTask in wfTasks">
              {{'APPLICATIONS.TOPOLOGY.TASK.WORKFLOWS.HAS_ERROR' | translate:wfTask}}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row" style="margin-top: 10px;" ng-if="deploymentContext.selectedEnvironment.status !== 'UNDEPLOYED'">
  <div class="col-md-12">
    <display-outputs></display-outputs>
  </div>
</div>
